import{a as s}from"./chunk-SERR6JMD.mjs";import{a as r}from"./chunk-MDVFZHLF.mjs";import{a as t}from"./chunk-SAYYBWUX.mjs";import{z as e}from"zod";async function g(a){a.withTypeProvider().post("/events",{schema:{summary:"Create a new event",tags:["Events"],body:e.object({title:e.string().min(4),details:e.string().nullable(),maximumAttendees:e.number().int().positive().nullable()}),response:{201:e.object({eventId:e.string()})}}},async(o,m)=>{let{title:n,details:d,maximumAttendees:l}=o.body,i=s(n);if(await t.event.findUnique({where:{slug:i}})!==null)throw new r("Event with same slug already exists");let u=await t.event.create({data:{title:n,details:d,maximumAttendees:l,slug:i}});return m.code(201).send({eventId:u.id})})}export{g as a};
