import{a as n}from"./chunk-MDVFZHLF.mjs";import{a as i}from"./chunk-SAYYBWUX.mjs";import{z as e}from"zod";async function l(s){s.withTypeProvider().get("/events/:eventId",{schema:{summary:"Get event details",tags:["Events"],params:e.object({eventId:e.string().uuid()}),response:{200:e.object({id:e.string().uuid(),title:e.string(),details:e.string().nullable(),slug:e.string(),maximumAttendees:e.number().int().nullable(),attendeesAmount:e.number().int()})}}},async(r,u)=>{let{eventId:a}=r.params,t=await i.event.findUnique({select:{id:!0,title:!0,details:!0,slug:!0,maximumAttendees:!0,_count:{select:{attendees:!0}}},where:{id:a}});if(t===null)throw new n("Event not found");return u.send({id:t.id,title:t.title,details:t.details,slug:t.slug,maximumAttendees:t.maximumAttendees,attendeesAmount:t._count.attendees})})}export{l as a};
