import{a as r}from"./chunk-MDVFZHLF.mjs";import{a as i}from"./chunk-SAYYBWUX.mjs";import{z as e}from"zod";async function f(o){o.withTypeProvider().get("/attendees/:attendeeId/badge",{schema:{summary:"Get attendee badge",tags:["Attendees"],params:e.object({attendeeId:e.coerce.number().int()}),response:{200:e.object({name:e.string(),email:e.string().email(),eventTitle:e.string(),checkInURL:e.string().url()})}}},async(n,s)=>{let{attendeeId:a}=n.params,t=await i.attendee.findUnique({select:{name:!0,email:!0,event:{select:{title:!0}}},where:{id:a}});if(t===null)throw new r("Attendee not found");let d=n.protocol+"://"+n.hostname,m=new URL(`attendees/${a}/check-in`,d);return s.send({name:t.name,email:t.email,eventTitle:t.event.title,checkInURL:m.toString()})})}export{f as a};
